{
  "name": "apostrophe-map",
  "version": "0.5.13",
  "description": "Custom Google map generator for the Apostrophe content management system",
  "main": "index.js",
  "scripts": {
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "repository": {
    "type": "git",
    "url": "git@github.com:punkave/apostrophe-map.git"
  },
  "keywords": [
    "map",
    "apostrophe",
    "cms",
    "mapping",
    "punkave"
  ],
  "author": {
    "name": "P'unk Avenue LLC"
  },
  "license": "MIT",
  "dependencies": {
    "async": "0.8.x",
    "lodash": "2.4.x",
    "extend": "~1.1.3",
    "apostrophe-snippets": "0.5.x",
    "geocoder": "*",
    "limiter": "~1.0.3"
  },
  "readme": "apostrophe-map\n==============\n\n`apostrophe-map` adds interactive maps to the [Apostrophe](http://github.com/punkave/apostrophe) content management system. `apostrophe-map` provides both backend and frontend components, including a friendly UI built on Apostrophe's rich content editing features.\n\nSee the `apostrophe-sandbox` project for a demo of usage. Setup is similar to `apostrophe-blog` or `apostrophe-snippets`. The geocoder is automatically started.\n\nIf you are running in a multiple-process environment, like `cluster`, you should set the `startGeocoder` option to `false` and explicitly invoke the `startGeocoder` method from one and only one process to avoid hitting API rate limits.\n\n## Update: GeoJSON, address search and a bc break\n\nWe've made a change to the way the map module stores coordinates. This change enables the use of a 2dsphere index for fast searches for addresses and other locations. And we've introduced cool options that leverage that. But, there's a bc break required.\n\nPreviously there was a \"coords\" property which contained \"lat\" and \"lng\" properties.\n\nNow, we're storing a GeoJSON point in a \"geo\" property.\n\nIt looks like:\n\n```javascript\nlocation.geo = { type: 'Point', coordinates: [ longitude, latitude ] };\n```\n\nIMPORTANT: LONGITUDE COMES FIRST.\n\n(MongoDB's choice, not ours, but it does fit with the newer convention that X always comes before Y, even if you're talking about maps.)\n\nFOR OLD SITES, YOU SHOULD RUN \"node app apostrophe:migrate\", otherwise the map module will have to geocode your coordinates again based on their address field. Which is not the end of the world, but it's nice to skip it especially if you have a lot of them.\n\nIF YOU OVERRODE OUR BROWSER-SIDE JAVASCRIPT, YOU WILL NEED TO FIX YOUR CODE to use the new .geo property instead of the old .coords property.\n\nExample:\n\n```javascript\ncoords = new google.maps.LatLng(item.geo.coordinates[1], item.geo.coordinates[0]);\n```\n\nThe `.coords` property in old sites will hang around, because it's not hurting anyone and migrations should be as gentle as possible. But it won't be updated anymore, so don't be fooled.\n\nAWESOME NEW OPTIONS\n\nThe \"get\" method of the maps module now accepts these options, in addition to everything `snippets.get` and `pages.get` will accept:\n\n`geo`: a GeoJSON point. When this option is passed, results are sorted by distance from this point.\n\n`maxDistance`: results are restricted to points within this many meters of \"geo\".\n`maxKm`: same for kilometers.\n`maxMiles`: same for miles.\n\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/punkave/apostrophe-map/issues"
  },
  "homepage": "https://github.com/punkave/apostrophe-map",
  "_id": "apostrophe-map@0.5.13",
  "_from": "apostrophe-map@0.5.x"
}
